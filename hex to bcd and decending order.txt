Hex to Bcd

LXI H,5000
MVI D,00
XRA A
MOV C,M
LOOP2: ADI 01
DAA
JNC LOOP1
INR D
LOOP1: DCR C
JNZ LOOP2
STA 5001
MOV A,D
STA 5002

hlt

Descending Order

LXI H,5000
MOV C,M
DCR C
REPEAT: MOV D,C
LXI H,5001
LOOP: MOV A,M
INX H
CMP M
JNC SKIP
MOV B,M
MOV M,A
DCX H
MOV M,B
INX H
SKIP: DCR D
JNZ LOOP
DCR C
JNZ REPEAT
hlt
